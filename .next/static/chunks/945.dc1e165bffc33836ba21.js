"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{3945:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=r(2809),s=r(5893),o=r(3977),a=r(3205),i=r(1175),l=r(2283),c=r(809),u=r.n(c),m=r(266),d=r(7014),x=r(3833),p=r(7235),h=r(9249),f=r(6808),b=r.n(f),g=r(8767),j=r(8592);function v(e){return y.apply(this,arguments)}function y(){return(y=(0,m.Z)(u().mark((function e(t){var r,n,s,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.post("https://api.joolux-client.ml".concat(x.P.LOGIN),t);case 2:return r=e.sent,n=r.data,s=n.accessToken,o=n.refreshToken,e.abrupt("return",{accessToken:s,refreshToken:o});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){var e=(0,j.w)().mutate,t=(0,d.l8)(),r=t.authorize,n=t.closeModal,s=t.favoriteData,o=t.setFavoriteData,a=(0,g.useQueryClient)();return(0,g.useMutation)(function(){var e=(0,m.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var t=(0,m.Z)(u().mark((function t(i){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,h.Am)("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng",{type:"dark",progressClassName:"fancy-progress-bar",position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),b().set("access_token",i.accessToken),b().set("refresh_token",i.refreshToken),t.next=5,a.resetQueries({active:!0});case 5:r(),n(),s&&(e({product:s}),o(""));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(e){console.log(e.message,"Sign In error"),(0,h.Am)("C\xf3 l\u1ed7i \u0111\u0103ng nh\u1eadp",{type:"dark",progressClassName:"fancy-progress-bar",position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}})},N=r(3407),k=r(9524),O=r(7816),C=r(4184),P=r.n(C),Z=r(155),S=r(5413),_=r(8290),T=r(1640);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(){var e,t,r=(0,S.$G)().t,n=(0,d.l8)(),c=n.setModalView,u=n.openModal,m=n.closeModal,x=w(),p=x.mutate,h=x.isLoading,f=(0,l.cI)(),b=f.register,g=f.handleSubmit,j=f.formState.errors;function v(){return c("SIGN_UP_VIEW"),u()}return(0,s.jsxs)("div",{className:"overflow-hidden bg-white mx-auto w-full sm:w-96 md:w-450px border border-gray-300 pt-5 px-5 sm:px-8 relative",children:[(0,s.jsx)("button",{onClick:m,"aria-label":"Close panel",className:P()("fixed z-50 inline-flex items-center justify-center w-7 h-7 md:w-8 md:h-8 rounded-full bg-white shadow text-gray-600 transition duration-200 focus:outline-none focus:text-gray-800 focus:shadow-md hover:text-gray-800 hover:shadow-md","top-4 end-4"),children:(0,s.jsx)(Z.bjh,{className:"text-xl"})}),(0,s.jsxs)("div",{className:"text-center mb-6 pt-2.5",children:[(0,s.jsx)("div",{onClick:m,children:(0,s.jsx)(O.T,{})}),(0,s.jsx)("div",{className:"p-2 mb-[10px] text-xs text-black bg-[#f5f5f5] -mx-5 sm:-mx-8",children:"Authenticated Luxury Consignment"}),(0,s.jsx)("p",{className:"text-lg md:text-base text-black font-bold uppercase mt-2 mb-8 sm:mb-10",children:r("common:login-helper")})]}),(0,s.jsx)("form",{onSubmit:g((function(e){var t=e.email,r=e.password,n=e.remember_me;p({email:t,password:r,remember_me:n})})),className:"flex flex-col justify-center",noValidate:!0,children:(0,s.jsxs)("div",{className:"flex flex-col space-y-3.5",children:[(0,s.jsx)(o.I,D(D({placeholderKey:"forms:label-email",type:"email",variant:"jl"},b("email",{required:"".concat(r("forms:email-required")),pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:r("forms:email-error")}})),{},{errorKey:null===(e=j.email)||void 0===e?void 0:e.message})),(0,s.jsx)(a.Z,D({placeholderKey:"forms:label-password",errorKey:null===(t=j.password)||void 0===t?void 0:t.message,variant:"jl"},b("password",{required:"".concat(r("forms:password-required"))}))),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,s.jsxs)("label",{className:"switch relative inline-block w-10 cursor-pointer",children:[(0,s.jsx)("input",D({id:"remember",type:"checkbox",className:"opacity-0 w-0 h-0"},b("remember_me"))),(0,s.jsx)("span",{className:"bg-gray-500 absolute inset-0 transition-all duration-300 ease-in slider round"})]}),(0,s.jsx)("label",{htmlFor:"remember",className:"flex-shrink-0 text-sm text-heading ps-3 cursor-pointer",children:r("forms:label-remember-me")})]}),(0,s.jsx)("div",{className:"flex ms-auto",children:(0,s.jsx)("button",{type:"button",onClick:function(){return c("FORGET_PASSWORD"),u()},className:"text-end text-sm text-heading ps-3 underline hover:no-underline focus:outline-none",children:r("common:text-forgot-password")})})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(i.z,{type:"submit",loading:h,variant:"jl",disabled:h,className:"h-11 md:h-12 w-full mt-1.5",children:r("common:text-login")})})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center relative text-sm text-heading mt-6 mb-3.5",children:[(0,s.jsx)("hr",{className:"w-full border-gray-300"}),(0,s.jsx)("span",{className:"absolute -top-2.5 px-2 bg-white",children:r("common:text-or")})]}),(0,s.jsx)(_.Z,{}),(0,s.jsx)(T.Z,{}),(0,s.jsxs)("p",{className:"text-[9.8px] md:text-[9px] text-body mt-2 mb-8 sm:mb-10 text-center",children:["By logging into Joolux, you agree to the"," ",(0,s.jsx)(N.Z,{href:k.Z.TERMS,className:"text-heading underline hover:no-underline focus:outline-none",children:r("common:text-terms")})," ","&"," ",(0,s.jsx)(N.Z,{href:k.Z.POLICY,className:"text-heading underline hover:no-underline focus:outline-none",children:r("common:text-policy")})," "]}),(0,s.jsxs)("div",{className:"bg-[#eee] mt-2 -mx-5 sm:-mx-8",children:[(0,s.jsx)("div",{className:"inline-block text-xs text-body text-center my-2 w-1/2 border-solid border-r-[1px] border-[#333]",children:(0,s.jsx)("button",{type:"button",className:"text-xs text-heading underline font-extralight hover:no-underline focus:outline-none",onClick:v,children:"Member sign up"})}),(0,s.jsx)("div",{className:"inline-block text-xs text-body text-center my-2 w-1/2",children:(0,s.jsx)("button",{type:"button",className:"text-xs text-heading underline font-extralight hover:no-underline focus:outline-none",onClick:v,children:"Sell with us"})})]})]})}}}]);